<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Telegram QR Scanner</title>
    <script>
        // Проверяем, инициализировано ли Telegram WebApp API
        window.Telegram.WebApp.ready();

        // Вызов функции для сканирования QR-кода
        function scanQRCode() {
            // Убедимся, что API доступно
            if (window.Telegram.WebApp) {
                window.Telegram.WebApp.showScanQrPopup({
                    text: 'Сканировать QR-код',  // Текст в окне сканирования
                    onSuccess: function(data) {
                        // Когда QR-код успешно отсканирован, отправляем данные обратно в бота
                        window.Telegram.WebApp.sendData(data);
                    },
                    onError: function() {
                        // В случае ошибки сканирования
                        alert('Не удалось распознать QR-код. Попробуйте еще раз.');
                    }
                });
            } else {
                alert('Telegram WebApp API не инициализировано!');
            }
        }
    </script>
</head>
<body>
    <h1>Нажмите кнопку для сканирования QR-кода</h1>
    <button onclick="scanQRCode()">Сканировать QR-код</button>
</body>
</html>
